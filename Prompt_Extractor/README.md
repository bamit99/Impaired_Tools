![Screenshot](https://github.com/user-attachments/assets/ca4a97be-8c48-4508-8584-f7e6b4f7a15b)
# Stable Diffusion PNG Metadata Explorer

## Overview

The Stable Diffusion PNG Metadata Explorer is a Python-based desktop application designed to explore and manage metadata from PNG images generated by Stable Diffusion. This tool allows users to browse folders, view PNG thumbnails, extract Stable Diffusion metadata, and export the data to CSV files.

## Features

- Browse and navigate folder structures
- Display PNG thumbnails with visual indicators for images lacking Stable Diffusion metadata
- Extract and display Stable Diffusion metadata from PNG files
- Copy prompt text to clipboard
- Export metadata to CSV files
- Dark mode toggle
- Persistent settings (last used folder and dark mode preference)

## Requirements

- Python 3.6 or higher
- tkinter
- Pillow (PIL)
- PyYAML

## Installation

1. Ensure you have Python 3.6 or higher installed on your system.

2. Install the required packages using pip:

   ```
   pip install pillow pyyaml
   ```

   Note: tkinter usually comes pre-installed with Python. If it's not available, you may need to install it separately depending on your operating system.

3. Clone this repository or download the `png-metadata-explorer-review.py` file.

## Usage

1. Run the script:

   ```
   python png-metadata-explorer-review.py
   ```

2. Use the "Browse" button to select a folder containing PNG images.

3. Navigate through the folder structure using the tree view on the left side.

4. Click on PNG thumbnails in the middle panel to view their metadata.

5. Use the "Copy Prompt" button to copy the prompt text to your clipboard.

6. Toggle dark mode using the checkbox at the bottom of the window.

7. Use the "Export to CSV" button to save metadata to a CSV file.

## File Structure

- `png-metadata-explorer-review.py`: The main Python script containing the application code.
- `config.yaml`: A configuration file that stores the last used folder, dark mode preference, and CSV export path. This file is created automatically when the application is first run.

## How It Works

1. The application reads PNG files and extracts metadata from the tEXt chunks, specifically looking for the 'parameters' key which contains Stable Diffusion metadata.

2. Thumbnails are displayed in the middle panel. Images without Stable Diffusion metadata are marked with a red 'X'.

3. When an image is selected, its metadata is parsed and displayed in the right panel, separated into prompt and other parameters.

4. The application saves its state (last used folder, dark mode preference) to a YAML file, which is loaded on startup to restore the previous session's settings.

## Troubleshooting

- If you encounter issues with tkinter, ensure it's properly installed for your Python environment.
- Make sure you have read and write permissions in the folder where the script is located, as it needs to create and modify the `config.yaml` file.

## Contributing

Contributions to improve the Stable Diffusion PNG Metadata Explorer are welcome. Please feel free to submit pull requests or create issues for bugs and feature requests.

## License

This project is open-source and available under the MIT License.
